<h4>Formularios <small> Reactivo </small></h4>
<hr>
<form autocomplete="off" [formGroup]="forma" (ngSubmit)="guardar()">

  <div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Nombre</label>
      <div class="col">

        <input class="form-control"
               type="text"
               placeholder="Nombre"
               formControlName="nombre"
               [class.is-invalid]="nombreNoValido">
               <small *ngIf="nombreNoValido" class="text-danger" >Nombre no válido</small>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Apellido</label>
      <div class="col">

        <input class="form-control"
               type="text"
               placeholder="Apellido"
               formControlName="apellido" 
               [class.is-invalid]="apellidoNoValido">
               <small class="text-danger" *ngIf="apellidoNoValido">Apellido no válido</small>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Correo</label>
      <div class="col">

        <input class="form-control"
              type="email"
              placeholder="Correo electrónico"
              formControlName="email" 
              [class.is-invalid]="emailNoValido">
              <small class="text-danger" *ngIf="emailNoValido">Correo no válido</small>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Usuario</label>
      <div class="col">

        <input class="form-control"
              type="text"
              placeholder="Nombre de usuario"
              formControlName="usuario" 
              [class.is-invalid]="usuarioNoValido">
              <small class="text-danger" *ngIf="usuarioNoValido">Nombre de usuario no válido</small>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Contraseña</label>
      <div class="col">

        <input class="form-control"
              type="password"
              placeholder="Contraseña"
              formControlName="password" 
              [class.is-invalid]="passwordNoValido">
              <small class="text-danger" *ngIf="passwordNoValido">Contraseña no válida</small>
      </div>
    </div>

    <div class="form-group row">
      <label class="col-2 col-form-label">Repita</label>
      <div class="col">

        <input class="form-control"
              type="password"
              placeholder="Repita contraseña"
              formControlName="password2" 
              [class.is-invalid]="password2NoValido">
              <small class="text-danger" *ngIf="password2NoValido">Contraseña no válida</small>
      </div>
    </div>

    <div class="form-group row" formGroupName="direccion" >
      <label class="col-2 col-form-label">Direccion</label>
      
        <div class="col">
          <input class="form-control"
                  type="text"
                  placeholder="Distrito"
                  formControlName="distrito" 
                  [class.is-invalid]="distritoNoValido">
          <small class="text-danger" *ngIf="distritoNoValido">Distrito no válido</small>
        </div>
        <div class="col">
          <input class="form-control"
                  type="text"
                  placeholder="Ciudad"
                  formControlName="ciudad" 
                  [class.is-invalid]="ciudadNoValido">
          <small class="text-danger" *ngIf="ciudadNoValido">Ciudad no válido</small>
        </div> 
      
    </div>
</div>

<div class="form-group row" >
  <label class="col-2 col-form-label">Direccion</label>
  <div class="col">
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th>Id</th>
          <th>Pasatiempo</th>
          <th>Borrar</th>
        </tr>
      </thead>
      <tbody formArrayName="pasatiempos">
        <tr *ngFor="let control of pasatiempos.controls; let i = index">
          <td> {{ i + 1 }}</td>
          <td>
            <input class="form-control"
                  type="text"
                  [formControlName]="i">
          </td>
          <td>
            <button class="btn btn-danger"
                    (click)="borrarPasatiempo(i)">
              Borrar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-primary mt-3 mb-5 btn-block"
            type="button"
            (click)="agregarPasatiempo()">
            + Agregar</button>

  </div>
</div>

  <div class="form-group row">
    <label class="col-2 col-form-label"></label>
    <div class="input-group col-md-8">
      <button type="submit" class="btn btn-outline-primary btn-block">
        Guardar
      </button>
    </div>
  </div>

</form>


<hr>
<pre>
  Estado del formulario: {{ forma.valid }}
  <br>
  Status: {{ forma.status }}
  <br>
  {{ forma.value | json }}
</pre>

